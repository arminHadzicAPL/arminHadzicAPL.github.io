<!-- Jekyll Ideal Image Slider Include -->
<!-- https://github.com/jekylltools/jekyll-ideal-image-slider-include -->
<!-- v1.8 -->

<link id="nytg-rendered-css" href="/assets/css/renderslider/style.css" rel="stylesheet">

<script id="nytg-dynamic-script_template-options">
	function getSpritePos(value, depth){
		let val     = value - 1,
			square  = Math.sqrt (depth),
			floor   = Math.floor (val / square),
			extra   = val - floor,
			offsetX = (floor + extra) * -300,
			offsetY = floor * -300;

		return [offsetX, offsetY];
	};
	var yml = {
			pages: {
				index: {}
			}
	};
	var body = [
		{
			type: "start",
			value: "g-sliders-container",
			css: ""
		},
		{
			type: "slider",
			value: {
				id: "orientation_0",
				title: "Orientation",
				low: "",
				high: "",
				background: "/img/infostylegan-orientation-0.png",
				depth: "8",
				index: "3"
			},
			css: ""
		},
		{
			type: "slider",
			value: {
				id: "orientation_1",
				title: "Orientation",
				low: "",
				high: "",
				background: "/img/infostylegan-orientation-1.png",
				depth: "8",
				index: "8"
			},
			css: ""
		},
		{
			type: "slider",
			value: {
				id: "orientation_2",
				title: "Orientation",
				low: "",
				high: "",
				background: "/img/infostylegan-orientation-2.png",
				depth: "8",
				index: "4"
			},
			css: ""
		},
		{
			type: "slider",
			value: {
				id: "orientation_3",
				title: "Orientation",
				low: "",
				high: "",
				background: "/img/infostylegan-orientation-3.png",
				depth: "8",
				index: "1"
			},
			css: ""
		},
		{
			type: "slider",
			value: {
				id: "smiling_0",
				title: "Smiling",
				low: "",
				high: "",
				background: "/img/infostylegan-smiling-0.png",
				depth: "8",
				index: "3"
			},
			css: ""
		},
		{
			type: "slider",
			value: {
				id: "smiling_1",
				title: "Smiling",
				low: "",
				high: "",
				background: "/img/infostylegan-smiling-1.png",
				depth: "8",
				index: "8"
			},
			css: ""
		},
		{
			type: "slider",
			value: {
				id: "smiling_2",
				title: "Smiling",
				low: "",
				high: "",
				background: "/img/infostylegan-smiling-2.png",
				depth: "8",
				index: "4"
			},
			css: ""
		},
		{
			type: "slider",
			value: {
				id: "smiling_3",
				title: "Smiling",
				low: "",
				high: "",
				background: "/img/infostylegan-smiling-3.png",
				depth: "8",
				index: "1"
			},
			css: ""
		},
		{
			type: "end",
			value: "g-sliders-container",
			css: ""
		},
	];
  	var DOC = {
		yml: yml,
		"overwrite-config-yml": "y",
		"top-asset": "",
		"top-asset-max-width": "",
		"use-lazy": "yes",
		body: body
	};
	function testOnChange(){
		let filtered  = DOC.body.filter (function (item) { return item.type === "slider" }),
			sliders   = filtered.map (function (slider)
		{
			let rangeHandle  = document.querySelector ("#range_" + slider.value.id),
				sliderSprite = document.querySelector ("#" + slider.value.id + " .g-slider-sprite");

			sliderSprite.style.backgroundImage = "url('" + slider.value.background + "')";


			rangeHandle.oninput = function ()
			{
			let offset = getSpritePos (this.value, slider.value.depth);
			sliderSprite.style.backgroundPosition = offset[0] + "px " + offset[1] +"px";
			};

			rangeHandle.value = parseInt (slider.value.index);
			let offset = getSpritePos (slider.value.index, slider.value.depth);
			sliderSprite.style.backgroundPosition = offset[0] + "px " + offset[1] +"px";

			return slider;
		});
	}

	window.onload = function() {
		testOnChange();
	}
</script>

<div class="g-story g-max-limit " data-preview-slug="2020-11-12-fake-people">
	<div class="g-container g-sliders-container" id="">
		<div class="g-slider-container" id="orientation_0">
			{% assign item = site.data.renderslider.images[0] %}
			<div class="g-slider-sprite" style="background-image: url('{{ item.orientation0 }}'); background-position: -8100px -900px;"></div>
			<div class="g-slider-desc">
				<div class="g-slider-title">Orientation</div>
			</div>
			<input type="range" min="1" max="8" value="3" class="g-slider" id="range_orientation_0">
		</div>
		<div class="g-slider-container" id="orientation_1">
			{% assign item = site.data.renderslider.images[1] %}
			<div class="g-slider-sprite" style="background-image: url('{{ item.orientation1 }}'); background-position: -8700px -1200px;"></div>
			<div class="g-slider-desc">
				<div class="g-slider-title">Orientation</div>
			</div>
			<input type="range" min="1" max="8" value="8" class="g-slider" id="range_orientation_1">
		</div>
		<div class="g-slider-container" id="orientation_2">
			{% assign item = site.data.renderslider.images[2] %}
			<div class="g-slider-sprite" style="background-image: url('{{ item.orientation2 }}'); background-position: -11400px -1500px;"></div>
			<div class="g-slider-desc">
				<div class="g-slider-title">Orientation</div>
			</div>
			<input type="range" min="1" max="8" value="4" class="g-slider" id="range_orientation_2">
		</div>
		<div class="g-slider-container" id="orientation_3">
			{% assign item = site.data.renderslider.images[3] %}
			<div class="g-slider-sprite" style="background-image: url('{{ item.orientation3 }}'); background-position: -4500px -600px;"></div>
			<div class="g-slider-desc">
				<div class="g-slider-title">Orientation</div>
			</div>
			<input type="range" min="1" max="8" value="1" class="g-slider" id="range_orientation_3">
		</div>

		<div class="g-slider-container" id="smiling_0">
			{% assign item = site.data.renderslider.images[0] %}
			<div class="g-slider-sprite" style="background-image: url('{{ item.smiling0 }}'); background-position: -8100px -900px;"></div>
			<div class="g-slider-desc">
				<div class="g-slider-title">Smiling</div>
			</div>
			<input type="range" min="1" max="8" value="3" class="g-slider" id="range_smiling_0">
		</div>
		<div class="g-slider-container" id="smiling_1">
			{% assign item = site.data.renderslider.images[1] %}
			<div class="g-slider-sprite" style="background-image: url('{{ item.smiling1 }}'); background-position: -8700px -1200px;"></div>
			<div class="g-slider-desc">
				<div class="g-slider-title">Smiling</div>
			</div>
			<input type="range" min="1" max="8" value="8" class="g-slider" id="range_smiling_1">
		</div>
		<div class="g-slider-container" id="smiling_2">
			{% assign item = site.data.renderslider.images[2] %}
			<div class="g-slider-sprite" style="background-image: url('{{ item.smiling2 }}'); background-position: -11400px -1500px;"></div>
			<div class="g-slider-desc">
				<div class="g-slider-title">Smiling</div>
			</div>
			<input type="range" min="1" max="8" value="4" class="g-slider" id="range_smiling_2">
		</div>
		<div class="g-slider-container" id="smiling_3">
			{% assign item = site.data.renderslider.images[3] %}
			<div class="g-slider-sprite" style="background-image: url('{{ item.smiling3 }}'); background-position: -4500px -600px;"></div>
			<div class="g-slider-desc">
				<div class="g-slider-title">Smiling</div>
			</div>
			<input type="range" min="1" max="8" value="1" class="g-slider" id="range_smiling_3">
		</div>
	</div>
</div>
